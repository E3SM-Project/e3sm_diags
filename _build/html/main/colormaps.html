

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Colormaps &mdash; E3SM Diags  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=7ab3649f" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="How to Add New Diagnostics Runs" href="add-new-diagnostics.html" />
    <link rel="prev" title="Available Parameters" href="available-parameters.html" />
    <link href="_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            E3SM Diags
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">E3SM Diagnostics Package v2</a></li>
<li class="toctree-l1"><a class="reference internal" href="input-data-requirement.html">Input Data Requirement</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickguides/index.html">Quick Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="config-run.html">Configuration and Running</a></li>
<li class="toctree-l1"><a class="reference internal" href="defining-parameters.html">Defining Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="available-parameters.html">Available Parameters</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Colormaps</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#default">Default</a></li>
<li class="toctree-l2"><a class="reference internal" href="#precipitation">Precipitation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#wind">Wind</a></li>
<li class="toctree-l2"><a class="reference internal" href="#customizing">Customizing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="add-new-diagnostics.html">How to Add New Diagnostics Runs</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev_guide/index.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to E3SM Diags</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">E3SM Diags</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Colormaps</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/colormaps.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="colormaps">
<h1>Colormaps<a class="headerlink" href="#colormaps" title="Link to this heading"></a></h1>
<p>A few words about colormaps. We tried to select default colormaps that were both
aesthetically pleasing and would help better visualize the data. In the process of identifying
suitable colormaps, we quickly realized that no single colormap would do the job.
So we settled on a few different combinations depending on variables being plotted.</p>
<section id="default">
<h2>Default<a class="headerlink" href="#default" title="Link to this heading"></a></h2>
<p>The default colormaps consist of the perceptually uniform rainbow from the
<a class="reference external" href="https://github.com/bokeh/colorcet">colorcet</a> collection for the top
two panels. For the difference panel, a custom diverging colormap was built that
smoothly transitions from the blue to the red ends of the rainbow. The center of the
colormap is white to avoid distracting the eye with from small variations around zero.</p>
<figure class="align-center" id="id3">
<a class="reference external image-reference" href="_static/colormaps/ceres_ebaf_toa_v4.0-NETCF-ANN-global.png"><img alt="_images/ceres_ebaf_toa_v4.0-NETCF-ANN-global.png" src="_images/ceres_ebaf_toa_v4.0-NETCF-ANN-global.png" style="width: 70%;" />
</a>
<figcaption>
<p><span class="caption-text">Illustration of default colormaps for annual net TOA cloud forcing.</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="precipitation">
<h2>Precipitation<a class="headerlink" href="#precipitation" title="Link to this heading"></a></h2>
<p>For precipitation, we selected alternate colormaps. Precipitation in the top two
panels is displayed using the
<a class="reference external" href="https://www.ncl.ucar.edu/Document/Graphics/color_table_gallery.shtml">NCL</a>
WhiteBlueGreenYellowRed colormap as suggested
by Walter Hannah. The difference in the bottom panel is plotted with the Matplotlib
diverging colormap BrBG to highlight excessively dry (brown) and wet areas (green).</p>
<figure class="align-center" id="id4">
<a class="reference external image-reference" href="_static/colormaps/GPCP_v2.2-PRECT-ANN-global.png"><img alt="_images/GPCP_v2.2-PRECT-ANN-global.png" src="_images/GPCP_v2.2-PRECT-ANN-global.png" style="width: 70%;" />
</a>
<figcaption>
<p><span class="caption-text">Default colormaps for precipitation.</span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="wind">
<h2>Wind<a class="headerlink" href="#wind" title="Link to this heading"></a></h2>
<p>Wind (u, omega) is yet another special case. To clearly mark the difference between
easterly/westerly or up/down motions, we decided that a diverging colormap would be best.
We selected PiYG_r from Matplotlib for the wind field and paired it with a diverging
colormap from <a class="reference external" href="https://github.com/bokeh/colorcet">colorcet</a> (diverging_bwr).</p>
<figure class="align-center" id="id5">
<a class="reference external image-reference" href="_static/colormaps/ERA-Interim-U-850-ANN-global.png"><img alt="_images/ERA-Interim-U-850-ANN-global.png" src="_images/ERA-Interim-U-850-ANN-global.png" style="width: 70%;" />
</a>
<figcaption>
<p><span class="caption-text">Default colormaps for wind.</span><a class="headerlink" href="#id5" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="customizing">
<h2>Customizing<a class="headerlink" href="#customizing" title="Link to this heading"></a></h2>
<p>Because we realize that selecting a good colormap is rather subjective and there is
probably (?) no perfect solution, we also made it easy to customize colormap choices. Colormaps
for each panel can be specified using the following parameters
(see also <a class="reference internal" href="available-parameters.html"><span class="doc">defining parameters</span></a>):</p>
<ul class="simple">
<li><p><strong>test_colormap</strong> for the top panel.</p></li>
<li><p><strong>reference_colormap</strong> for the middle panel.</p></li>
<li><p><strong>diff_colormap</strong> for the bottom one.</p></li>
</ul>
<p>Colormaps can be specified by either using a standard Matplotlib map name
or an external rgb ascii file.
All colormaps from the <a class="reference external" href="https://github.com/bokeh/colorcet">colorcet</a> collection have been
imported as rgb files by Charles Doutriaux (available under <a class="reference external" href="https://github.com/E3SM-Project/e3sm_diags/tree/master/e3sm_diags/plot/colormaps">e3sm_diags/plot/colormaps</a>).</p>
<p>You can also import your very own colormap by creating and specifying the path to
an ascii rgb file containing a list of colors in RGB space. If you think you have something
that improves upon the current default, please send some samples to Jill
(zhang40 .at. llnl.gov) or Zeshawn (shaheen2 .at. llnl.gov) and we will consider them from inclusion in a future release.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="available-parameters.html" class="btn btn-neutral float-left" title="Available Parameters" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="add-new-diagnostics.html" class="btn btn-neutral float-right" title="How to Add New Diagnostics Runs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, E3SM.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: main
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Tags</dt>
      <dd><a href="../v2.10.0/colormaps.html">v2.10.0</a></dd>
      <dd><a href="../v2.10.1/colormaps.html">v2.10.1</a></dd>
      <dd><a href="../v2.11.0/colormaps.html">v2.11.0</a></dd>
      <dd><a href="../v2.12.0/colormaps.html">v2.12.0</a></dd>
      <dd><a href="../v2.5.0/colormaps.html">v2.5.0</a></dd>
      <dd><a href="../v2.6.0/colormaps.html">v2.6.0</a></dd>
      <dd><a href="../v2.6.1/colormaps.html">v2.6.1</a></dd>
      <dd><a href="../v2.7.0/colormaps.html">v2.7.0</a></dd>
      <dd><a href="../v2.8.0/colormaps.html">v2.8.0</a></dd>
      <dd><a href="../v2.9.0/colormaps.html">v2.9.0</a></dd>
    </dl>
    <dl>
      <dt>Branches</dt>
      <dd><a href="colormaps.html">main</a></dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>