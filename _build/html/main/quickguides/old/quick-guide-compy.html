

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quick guide for running in e3sm_unified environment for Compy and Others (v1) &mdash; E3SM Diags  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Quick guide for using Docker (v1)" href="quick-guide-docker.html" />
    <link rel="prev" title="Quick guide for NERSC Edison using Shifter (v1)" href="quick-guide-edison-shifter.html" />
    <link href="../../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            E3SM Diags
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">E3SM Diagnostics Package v2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../input-data-requirement.html">Input Data Requirement</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Quick Guides</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../quick-guide-general.html">General quick guide for running e3sm_diags v2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quick-guide-acme1.html">Acme1 quick guide for running e3sm_diags v2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quick-guide-anvil.html">Anvil quick guide for running e3sm_diags v2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quick-guide-chrysalis.html">Chrysalis quick guide for running e3sm_diags v2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quick-guide-compy.html">Compy quick guide for running e3sm_diags v2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quick-guide-perlmutter.html">Perlmutter quick guide for running e3sm_diags v2</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Old Quick Guides for v1</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="quick-guide-edison.html">Quick guide for NERSC Edison (v1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="quick-guide-edison-shifter.html">Quick guide for NERSC Edison using Shifter (v1)</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Quick guide for running in e3sm_unified environment for Compy and Others (v1)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#activate-the-latest-version-of-the-e3sm-unified-environment">Activate the latest version of the e3sm_unified environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#running-the-entire-annual-latitude-longitude-contour-set">Running the entire annual latitude-longitude contour set</a></li>
<li class="toctree-l4"><a class="reference internal" href="#running-all-of-the-diagnostics-sets">Running all of the diagnostics sets</a></li>
<li class="toctree-l4"><a class="reference internal" href="#advanced-running-custom-diagnostics">Advanced: Running custom diagnostics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="quick-guide-docker.html">Quick guide for using Docker (v1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="quick-guide-cori.html">Quick guide for NERSC Cori using Shifter (v1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="quick-guide-cooley.html">Quick guide for ANL ALCF Cooley using Singularity (v1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="quick-guide-aims4.html">Quick guide for LLNL AIMS4 or ACME1 (v1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="quick-guide-rhea.html">Quick guide for OLCF Rhea (v1)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../config-run.html">Configuration and Running</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../defining-parameters.html">Defining Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../available-parameters.html">Available Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../colormaps.html">Colormaps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../add-new-diagnostics.html">How to Add New Diagnostics Runs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev_guide/index.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing to E3SM Diags</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">E3SM Diags</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Quick Guides</a></li>
          <li class="breadcrumb-item"><a href="index.html">Old Quick Guides for v1</a></li>
      <li class="breadcrumb-item active">Quick guide for running in e3sm_unified environment for Compy and Others (v1)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/quickguides/old/quick-guide-compy.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="quick-guide-for-running-in-e3sm-unified-environment-for-compy-and-others-v1">
<h1>Quick guide for running in e3sm_unified environment for Compy and Others (v1)<a class="headerlink" href="#quick-guide-for-running-in-e3sm-unified-environment-for-compy-and-others-v1" title="Link to this heading"></a></h1>
<section id="activate-the-latest-version-of-the-e3sm-unified-environment">
<h2>Activate the latest version of the e3sm_unified environment<a class="headerlink" href="#activate-the-latest-version-of-the-e3sm-unified-environment" title="Link to this heading"></a></h2>
<p>Most of the E3SM analysis software is maintained with an Anaconda metapackage. To get all of the tools in the metapackage in your path, use one of the sets of commands below and the activation path from below for individual e3sm analysis machines. Shown below we also provide the paths where climatology observational data e3sm_diags uses, replace <code class="docutils literal notranslate"><span class="pre">/climatology</span></code> to <code class="docutils literal notranslate"><span class="pre">/time-series</span></code> for time-series data:</p>
<dl>
<dt><strong>Compy</strong></dt><dd><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="o">/</span><span class="n">compyfs</span><span class="o">/</span><span class="n">software</span><span class="o">/</span><span class="n">e3sm</span><span class="o">-</span><span class="n">unified</span><span class="o">/</span><span class="n">load_latest_e3sm_unified_py2</span><span class="mf">.7</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
</dd>
</dl>
<p>obs at: <code class="docutils literal notranslate"><span class="pre">/compyfs/e3sm_diags_data/obs_for_e3sm_diags/climatology/</span></code></p>
<p><strong>For other analysis platforms</strong></p>
<dl>
<dt><strong>Cori</strong></dt><dd><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="o">/</span><span class="k">global</span><span class="o">/</span><span class="n">project</span><span class="o">/</span><span class="n">projectdirs</span><span class="o">/</span><span class="n">acme</span><span class="o">/</span><span class="n">software</span><span class="o">/</span><span class="n">anaconda_envs</span><span class="o">/</span><span class="n">load_latest_e3sm_unified_py2</span><span class="mf">.7</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
</dd>
</dl>
<p>obs at: <code class="docutils literal notranslate"><span class="pre">/global/project/projectdirs/acme/e3sm_diags/obs_for_e3sm_diags/climatology/</span></code></p>
<dl>
<dt><strong>Anvil/blues</strong></dt><dd><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="o">/</span><span class="n">lcrc</span><span class="o">/</span><span class="n">soft</span><span class="o">/</span><span class="n">climate</span><span class="o">/</span><span class="n">e3sm</span><span class="o">-</span><span class="n">unified</span><span class="o">/</span><span class="n">load_latest_e3sm_unified_py2</span><span class="mf">.7</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
</dd>
</dl>
<p>obs at: <code class="docutils literal notranslate"><span class="pre">/lcrc/soft/climate/e3sm_diags_data/obs_for_e3sm_diags/climatology/</span></code></p>
<dl>
<dt><strong>Cooley</strong></dt><dd><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="o">/</span><span class="n">lus</span><span class="o">/</span><span class="n">theta</span><span class="o">-</span><span class="n">fs0</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">ccsm</span><span class="o">/</span><span class="n">acme</span><span class="o">/</span><span class="n">tools</span><span class="o">/</span><span class="n">e3sm</span><span class="o">-</span><span class="n">unified</span><span class="o">/</span><span class="n">load_latest_e3sm_unified_py2</span><span class="mf">.7</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
</dd>
</dl>
<p>obs at:<code class="docutils literal notranslate"><span class="pre">/lus/theta-fs0/projects/ClimateEnergy_3/e3sm_diags/obs_for_e3sm_diags/climatology/</span></code></p>
<dl>
<dt><strong>acme1</strong></dt><dd><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">e3sm_unified</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">load_latest_e3sm_unified_py2</span><span class="mf">.7</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
</dd>
</dl>
<p>obs at:<code class="docutils literal notranslate"><span class="pre">/p/cscratch/acme/data/obs_for_e3sm_diags/climatology/</span></code></p>
<dl>
<dt><strong>Rhea</strong></dt><dd><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="o">/</span><span class="n">ccs</span><span class="o">/</span><span class="n">proj</span><span class="o">/</span><span class="n">cli900</span><span class="o">/</span><span class="n">sw</span><span class="o">/</span><span class="n">rhea</span><span class="o">/</span><span class="n">e3sm</span><span class="o">-</span><span class="n">unified</span><span class="o">/</span><span class="n">load_latest_e3sm_unified_py2</span><span class="mf">.7</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
</dd>
</dl>
<p>obs at:<code class="docutils literal notranslate"><span class="pre">/ccs/proj/cli115/e3sm_diags_data/obs_for_acme_diags/climatology/</span></code></p>
<p>Change <code class="docutils literal notranslate"><span class="pre">.sh</span></code> to <code class="docutils literal notranslate"><span class="pre">.csh</span></code> for csh shells.</p>
</section>
<section id="running-the-entire-annual-latitude-longitude-contour-set">
<h2>Running the entire annual latitude-longitude contour set<a class="headerlink" href="#running-the-entire-annual-latitude-longitude-contour-set" title="Link to this heading"></a></h2>
<p>Copy and paste the below code into <code class="docutils literal notranslate"><span class="pre">myparams.py</span></code> using your favorite text editor. Adjust any options as you like.</p>
<blockquote>
<div><p><strong>Tip:</strong> Make a folder in the following directory <code class="docutils literal notranslate"><span class="pre">/compyfs/www/</span></code> based off your username.
Then you can set <code class="docutils literal notranslate"><span class="pre">results_dir</span></code> to  <code class="docutils literal notranslate"><span class="pre">/compyfs/www/&lt;username&gt;/lat_lon_demo</span></code> in <code class="docutils literal notranslate"><span class="pre">myparams.py</span></code> below
to view the results via a web browser here: <a class="reference external" href="https://compy-dtn.pnl.gov">https://compy-dtn.pnl.gov</a>/&lt;username&gt;/lat_lon_demo</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">reference_data_path</span> <span class="o">=</span> <span class="s1">&#39;/compyfs/e3sm_diags_data/obs_for_e3sm_diags/climatology/&#39;</span>
<span class="n">test_data_path</span> <span class="o">=</span> <span class="s1">&#39;/compyfs/e3sm_diags_data/test_model_data_for_acme_diags/climatology/&#39;</span>

<span class="n">test_name</span> <span class="o">=</span> <span class="s1">&#39;20161118.beta0.FC5COSP.ne30_ne30.edison&#39;</span>

<span class="n">sets</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;lat_lon&quot;</span><span class="p">]</span>
<span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;ANN&quot;</span><span class="p">]</span>

<span class="c1"># &#39;mpl&#39; and &#39;vcs&#39; are for matplotlib or vcs plots respectively.</span>
<span class="n">backend</span> <span class="o">=</span> <span class="s1">&#39;mpl&#39;</span>

<span class="c1"># Name of folder where all results will be stored.</span>
<span class="n">results_dir</span> <span class="o">=</span> <span class="s1">&#39;lat_lon_demo&#39;</span>

<span class="n">multiprocessing</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">num_workers</span> <span class="o">=</span>  <span class="mi">40</span>
</pre></div>
</div>
</div></blockquote>
</div></blockquote>
<p>To enable multiprocessing rather than running in serial, the program will need to be ran in an
<strong>interactive session</strong> on compute nodes, or as a <strong>batch job</strong>.</p>
<dl class="simple">
<dt>Here are some hardware details for <cite>compy</cite></dt><dd><ul class="simple">
<li><p>40 cores/node</p></li>
<li><p>192 GB DRAM/node</p></li>
<li><p>18400 total cores</p></li>
</ul>
</dd>
</dl>
<section id="interactive-session-on-compute-nodes">
<h3>Interactive session on compute nodes<a class="headerlink" href="#interactive-session-on-compute-nodes" title="Link to this heading"></a></h3>
<p>First, request an interactive session with a single node
for one hour (running this example should take much less than this).</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">salloc</span> <span class="o">--</span><span class="n">nodes</span><span class="o">=</span><span class="mi">1</span> <span class="o">--</span><span class="n">account</span><span class="o">=</span><span class="n">e3sm</span> <span class="o">--</span><span class="n">time</span><span class="o">=</span><span class="mi">00</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span>
</pre></div>
</div>
</div></blockquote>
<p>Once the session is available, launch E3SM Diagnostics.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="o">/</span><span class="n">compyfs</span><span class="o">/</span><span class="n">software</span><span class="o">/</span><span class="n">e3sm</span><span class="o">-</span><span class="n">unified</span><span class="o">/</span><span class="n">load_latest_e3sm_unified_py2</span><span class="mf">.7</span><span class="o">.</span><span class="n">sh</span>
<span class="n">e3sm_diags</span> <span class="o">-</span><span class="n">p</span> <span class="n">myparams</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="batch-job">
<h3>Batch job<a class="headerlink" href="#batch-job" title="Link to this heading"></a></h3>
<p>Alternatively, you can also create a script and submit it to the batch system.
Copy and paste the code below into a file named <code class="docutils literal notranslate"><span class="pre">diags.bash</span></code>.
Please remember to change what directory you’re in to one accessible to you.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash -l</span>
<span class="c1">#SBATCH --job-name=diags</span>
<span class="c1">#SBATCH --output=diags.o%j</span>
<span class="c1">#SBATCH --account=e3sm</span>
<span class="c1">#SBATCH --nodes=1</span>
<span class="c1">#SBATCH --time=00:30:00</span>

<span class="c1"># Please change the directory below.</span>
<span class="nb">source</span><span class="w"> </span>/compyfs/software/e3sm-unified/load_latest_e3sm_unified_py2.7.sh
e3sm_diags<span class="w"> </span>-p<span class="w"> </span>myparams.py
</pre></div>
</div>
</div></blockquote>
<p>And then submit it</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sbatch</span> <span class="n">diags</span><span class="o">.</span><span class="n">bash</span>
</pre></div>
</div>
</div></blockquote>
<p>View the status of your job with <code class="docutils literal notranslate"><span class="pre">squeue</span> <span class="pre">-u</span> <span class="pre">&lt;username&gt;</span></code>.
Here’s the meaning of some values under the State (<code class="docutils literal notranslate"><span class="pre">ST</span></code>) column:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PD</span></code>: Pending</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">R</span></code>: Running</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CA</span></code>: Cancelled</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CD</span></code>: Completed</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">F</span></code>: Failed</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TO</span></code>: Timeout</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NF</span></code>: Node Failure</p></li>
</ul>
</section>
<section id="back-to-running-the-latitude-longitude-contour-set">
<h3>Back to running the latitude-longitude contour set<a class="headerlink" href="#back-to-running-the-latitude-longitude-contour-set" title="Link to this heading"></a></h3>
<ol class="arabic" start="5">
<li><p>Once you ran the diagnostics in an interactive session or via a batch job, open the following webpage to view the results.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lat_lon_demo</span><span class="o">/</span><span class="n">viewer</span><span class="o">/</span><span class="n">index</span><span class="o">.</span><span class="n">html</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
<p><strong>Tip:</strong> Once you’re on the webpage for a specific plot, click on the
‘Output Metadata’ drop down menu to view the metadata for the displayed plot.
Running that command allows the displayed plot to be recreated.
Changing any of the options will modify the just that resulting figure.</p>
</section>
</section>
<section id="running-all-of-the-diagnostics-sets">
<h2>Running all of the diagnostics sets<a class="headerlink" href="#running-all-of-the-diagnostics-sets" title="Link to this heading"></a></h2>
<p>Copy and paste the following into <code class="docutils literal notranslate"><span class="pre">all_sets.py</span></code> using your
favorite text editor:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">reference_data_path</span> <span class="o">=</span> <span class="s1">&#39;/compyfs/e3sm_diags_data/obs_for_e3sm_diags/climatology/&#39;</span>
<span class="n">test_data_path</span> <span class="o">=</span> <span class="s1">&#39;/compyfs/e3sm_diags_data/test_model_data_for_acme_diags/climatology/&#39;</span>

<span class="n">test_name</span> <span class="o">=</span> <span class="s1">&#39;20161118.beta0.FC5COSP.ne30_ne30.edison&#39;</span>

<span class="c1"># Not defining a sets parameter runs all of the default sets:</span>
<span class="c1"># [&#39;zonal_mean_xy&#39;, &#39;zonal_mean_2d&#39;, &#39;lat_lon&#39;, &#39;polar&#39;, &#39;cosp_histogram&#39;]</span>
<span class="n">sets</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;zonal_mean_xy&#39;</span><span class="p">,</span> <span class="s1">&#39;zonal_mean_2d&#39;</span><span class="p">,</span> <span class="s1">&#39;lat_lon&#39;</span><span class="p">,</span> <span class="s1">&#39;polar&#39;</span><span class="p">,</span> <span class="s1">&#39;cosp_histogram&#39;</span><span class="p">]</span>

<span class="c1"># &#39;mpl&#39; and &#39;vcs&#39; are for matplotlib or vcs plots respectively.</span>
<span class="n">backend</span> <span class="o">=</span> <span class="s1">&#39;mpl&#39;</span>

<span class="c1"># Name of folder where all results will be stored.</span>
<span class="n">results_dir</span> <span class="o">=</span> <span class="s1">&#39;diag_demo&#39;</span>

<span class="c1"># Optional settings below:</span>

<span class="n">diff_title</span> <span class="o">=</span> <span class="s1">&#39;Model - Obs&#39;</span>

<span class="n">multiprocessing</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">num_workers</span> <span class="o">=</span>  <span class="mi">40</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="advanced-running-custom-diagnostics">
<h2>Advanced: Running custom diagnostics<a class="headerlink" href="#advanced-running-custom-diagnostics" title="Link to this heading"></a></h2>
<p>The following steps are for ‘advanced’ users, who want to run custom diagnostics.
So most users will not run the software like this.</p>
<p>By default, all of the E3SM diagnostics are ran for the sets that we defined above.
This takes some time, so instead we create our own diagnostics to be ran.</p>
<p>Copy and paste the code below in <code class="docutils literal notranslate"><span class="pre">mydiags.cfg</span></code>.
Check <a class="reference internal" href="../../available-parameters.html"><span class="doc">Available Parameters</span></a>
for all available parameters.</p>
<p>For more examples of these types of files, look
<a class="reference external" href="https://github.com/E3SM-Project/e3sm_diags/blob/master/e3sm_diags/driver/default_diags/lat_lon_model_vs_obs.cfg">here</a>
for the cfg file that was used to create all of the latitude-longitude sets.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="c1">#]</span>
<span class="n">sets</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;lat_lon&quot;</span><span class="p">]</span>
<span class="n">case_id</span> <span class="o">=</span> <span class="s2">&quot;GPCP_v2.2&quot;</span>
<span class="n">variables</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;PRECT&quot;</span><span class="p">]</span>
<span class="n">ref_name</span> <span class="o">=</span> <span class="s2">&quot;GPCP_v2.2&quot;</span>
<span class="n">reference_name</span> <span class="o">=</span> <span class="s2">&quot;GPCP (yrs1979-2014)&quot;</span>
<span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;ANN&quot;</span><span class="p">,</span> <span class="s2">&quot;DJF&quot;</span><span class="p">]</span>
<span class="n">regions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;global&quot;</span><span class="p">]</span>
<span class="n">test_colormap</span> <span class="o">=</span> <span class="s2">&quot;WhiteBlueGreenYellowRed.rgb&quot;</span>
<span class="n">reference_colormap</span> <span class="o">=</span> <span class="s2">&quot;WhiteBlueGreenYellowRed.rgb&quot;</span>
<span class="n">diff_colormap</span> <span class="o">=</span> <span class="s2">&quot;BrBG&quot;</span>
<span class="n">contour_levels</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">16</span><span class="p">]</span>
<span class="n">diff_levels</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>

<span class="p">[</span><span class="c1">#]</span>
<span class="n">sets</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;lat_lon&quot;</span><span class="p">]</span>
<span class="n">case_id</span> <span class="o">=</span> <span class="s2">&quot;SST_CL_HadISST&quot;</span>
<span class="n">variables</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;SST&quot;</span><span class="p">]</span>
<span class="n">ref_name</span> <span class="o">=</span> <span class="s2">&quot;HadISST_CL&quot;</span>
<span class="n">reference_name</span> <span class="o">=</span> <span class="s2">&quot;HadISST/OI.v2 (Climatology) 1982-2001&quot;</span>
<span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;ANN&quot;</span><span class="p">,</span> <span class="s2">&quot;MAM&quot;</span><span class="p">]</span>
<span class="n">contour_levels</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">29</span><span class="p">]</span>
<span class="n">diff_levels</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div></blockquote>
<p>Run E3SM diagnostics with the <code class="docutils literal notranslate"><span class="pre">-d</span></code> parameter.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">e3sm_diags</span> <span class="o">-</span><span class="n">p</span> <span class="n">myparams</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">d</span> <span class="n">mydiags</span><span class="o">.</span><span class="n">cfg</span>
</pre></div>
</div>
</div></blockquote>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="quick-guide-edison-shifter.html" class="btn btn-neutral float-left" title="Quick guide for NERSC Edison using Shifter (v1)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="quick-guide-docker.html" class="btn btn-neutral float-right" title="Quick guide for using Docker (v1)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, E3SM.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: main
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Tags</dt>
      <dd><a href="../../../v2.10.0/quickguides/old/quick-guide-compy.html">v2.10.0</a></dd>
      <dd><a href="../../../v2.10.1/quickguides/old/quick-guide-compy.html">v2.10.1</a></dd>
      <dd><a href="../../../v2.11.0/quickguides/old/quick-guide-compy.html">v2.11.0</a></dd>
      <dd><a href="../../../v2.12.0/quickguides/old/quick-guide-compy.html">v2.12.0</a></dd>
      <dd><a href="../../../v2.5.0/quickguides/old/quick-guide-compy.html">v2.5.0</a></dd>
      <dd><a href="../../../v2.6.0/quickguides/old/quick-guide-compy.html">v2.6.0</a></dd>
      <dd><a href="../../../v2.6.1/quickguides/old/quick-guide-compy.html">v2.6.1</a></dd>
      <dd><a href="../../../v2.7.0/quickguides/old/quick-guide-compy.html">v2.7.0</a></dd>
      <dd><a href="../../../v2.8.0/quickguides/old/quick-guide-compy.html">v2.8.0</a></dd>
      <dd><a href="../../../v2.9.0/quickguides/old/quick-guide-compy.html">v2.9.0</a></dd>
    </dl>
    <dl>
      <dt>Branches</dt>
      <dd><a href="quick-guide-compy.html">main</a></dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>